"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/collections/[...path]/route";
exports.ids = ["app/api/admin/collections/[...path]/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&page=%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute.ts&appDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&page=%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute.ts&appDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Aryam_Desktop_GeneralPurpose_portfolio_app_api_admin_collections_path_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/collections/[...path]/route.ts */ \"(rsc)/./app/api/admin/collections/[...path]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/collections/[...path]/route\",\n        pathname: \"/api/admin/collections/[...path]\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/collections/[...path]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Aryam\\\\Desktop\\\\GeneralPurpose\\\\portfolio\\\\app\\\\api\\\\admin\\\\collections\\\\[...path]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Aryam_Desktop_GeneralPurpose_portfolio_app_api_admin_collections_path_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/collections/[...path]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmNvbGxlY3Rpb25zJTJGJTVCLi4ucGF0aCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZjb2xsZWN0aW9ucyUyRiU1Qi4uLnBhdGglNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRmNvbGxlY3Rpb25zJTJGJTVCLi4ucGF0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBcnlhbSU1Q0Rlc2t0b3AlNUNHZW5lcmFsUHVycG9zZSU1Q3BvcnRmb2xpbyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQXJ5YW0lNUNEZXNrdG9wJTVDR2VuZXJhbFB1cnBvc2UlNUNwb3J0Zm9saW8maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3VEO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLz8xYjVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFyeWFtXFxcXERlc2t0b3BcXFxcR2VuZXJhbFB1cnBvc2VcXFxccG9ydGZvbGlvXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcY29sbGVjdGlvbnNcXFxcWy4uLnBhdGhdXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9jb2xsZWN0aW9ucy9bLi4ucGF0aF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9jb2xsZWN0aW9ucy9bLi4ucGF0aF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL2NvbGxlY3Rpb25zL1suLi5wYXRoXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEFyeWFtXFxcXERlc2t0b3BcXFxcR2VuZXJhbFB1cnBvc2VcXFxccG9ydGZvbGlvXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcY29sbGVjdGlvbnNcXFxcWy4uLnBhdGhdXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hZG1pbi9jb2xsZWN0aW9ucy9bLi4ucGF0aF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&page=%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute.ts&appDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/collections/[...path]/route.ts":
/*!******************************************************!*\
  !*** ./app/api/admin/collections/[...path]/route.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.ts\");\n\n\n\n// GET - List collections or fetch documents\nasync function GET(request, { params }) {\n    try {\n        const { path } = await params;\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        // Handle empty path array\n        if (!path || path.length === 0) {\n            const collections = await db.listCollections().toArray();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                collections: collections.map((col)=>({\n                        name: col.name,\n                        type: col.type\n                    }))\n            });\n        }\n        const [collectionName, ...rest] = path;\n        const collection = db.collection(collectionName);\n        const id = rest[0];\n        // If ID is provided, get single document\n        if (id) {\n            // Try to convert to ObjectId, fallback to string if invalid\n            let queryId = id;\n            try {\n                if (mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId.isValid(id)) {\n                    queryId = new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id);\n                }\n            } catch  {\n            // Keep as string if ObjectId conversion fails\n            }\n            const document = await collection.findOne({\n                _id: queryId\n            });\n            if (!document) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Document not found\"\n                }, {\n                    status: 404\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(document);\n        }\n        // Otherwise, get all documents with optional query params\n        const limit = parseInt(request.nextUrl.searchParams.get(\"limit\") || \"100\");\n        const skip = parseInt(request.nextUrl.searchParams.get(\"skip\") || \"0\");\n        const sort = request.nextUrl.searchParams.get(\"sort\") || \"_id\";\n        const order = request.nextUrl.searchParams.get(\"order\") === \"desc\" ? -1 : 1;\n        // Build filter from query params\n        const filter = {};\n        request.nextUrl.searchParams.forEach((value, key)=>{\n            if (![\n                \"limit\",\n                \"skip\",\n                \"sort\",\n                \"order\",\n                \"secret\"\n            ].includes(key)) {\n                try {\n                    // Try to parse as JSON for complex queries\n                    filter[key] = JSON.parse(value);\n                } catch  {\n                    // If not JSON, use as string\n                    filter[key] = value;\n                }\n            }\n        });\n        const documents = await collection.find(filter).sort({\n            [sort]: order\n        }).skip(skip).limit(limit).toArray();\n        const count = await collection.countDocuments(filter);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            data: documents,\n            count,\n            limit,\n            skip,\n            total: count\n        });\n    } catch (error) {\n        console.error(\"GET error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Create new document(s)\nasync function POST(request, { params }) {\n    try {\n        const { path } = await params;\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const [collectionName] = path;\n        if (!collectionName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Collection name is required\"\n            }, {\n                status: 400\n            });\n        }\n        const body = await request.json();\n        const collection = db.collection(collectionName);\n        // Support both single document and array of documents\n        if (Array.isArray(body)) {\n            const result = await collection.insertMany(body);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                insertedIds: result.insertedIds,\n                count: result.insertedCount\n            });\n        } else {\n            const result = await collection.insertOne(body);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                _id: result.insertedId\n            });\n        }\n    } catch (error) {\n        console.error(\"POST error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT - Update document(s)\nasync function PUT(request, { params }) {\n    try {\n        const { path } = await params;\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const [collectionName, id] = path;\n        if (!collectionName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Collection name is required\"\n            }, {\n                status: 400\n            });\n        }\n        const body = await request.json();\n        const collection = db.collection(collectionName);\n        // If ID is provided, update single document\n        if (id) {\n            const { _id, ...updateData } = body;\n            // Try to convert to ObjectId, fallback to string if invalid\n            let queryId = id;\n            try {\n                if (mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId.isValid(id)) {\n                    queryId = new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id);\n                }\n            } catch  {\n            // Keep as string if ObjectId conversion fails\n            }\n            const result = await collection.updateOne({\n                _id: queryId\n            }, {\n                $set: updateData\n            }, {\n                upsert: false\n            });\n            if (result.matchedCount === 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Document not found\"\n                }, {\n                    status: 404\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                matchedCount: result.matchedCount,\n                modifiedCount: result.modifiedCount\n            });\n        }\n        // Otherwise, update multiple documents based on filter\n        const filter = body.filter || {};\n        const update = body.update || body;\n        const { filter: _, ...updateData } = update;\n        const result = await collection.updateMany(filter, {\n            $set: updateData\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            matchedCount: result.matchedCount,\n            modifiedCount: result.modifiedCount\n        });\n    } catch (error) {\n        console.error(\"PUT error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PATCH - Partial update (upsert support)\nasync function PATCH(request, { params }) {\n    try {\n        const { path } = await params;\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const [collectionName, id] = path;\n        if (!collectionName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Collection name is required\"\n            }, {\n                status: 400\n            });\n        }\n        const body = await request.json();\n        const collection = db.collection(collectionName);\n        const upsert = body.upsert !== false; // Default to true\n        if (id) {\n            const { _id, upsert: _, ...updateData } = body;\n            // Try to convert to ObjectId, fallback to string if invalid\n            let queryId = id;\n            try {\n                if (mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId.isValid(id)) {\n                    queryId = new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id);\n                }\n            } catch  {\n            // Keep as string if ObjectId conversion fails\n            }\n            const result = await collection.updateOne({\n                _id: queryId\n            }, {\n                $set: updateData\n            }, {\n                upsert\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                matchedCount: result.matchedCount,\n                modifiedCount: result.modifiedCount,\n                upsertedId: result.upsertedId\n            });\n        }\n        const filter = body.filter || {};\n        const { filter: _, upsert: __, ...updateData } = body;\n        const result = await collection.updateMany(filter, {\n            $set: updateData\n        }, {\n            upsert\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            matchedCount: result.matchedCount,\n            modifiedCount: result.modifiedCount,\n            upsertedCount: result.upsertedCount\n        });\n    } catch (error) {\n        console.error(\"PATCH error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE - Delete document(s)\nasync function DELETE(request, { params }) {\n    try {\n        const { path } = await params;\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const [collectionName, id] = path;\n        if (!collectionName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Collection name is required\"\n            }, {\n                status: 400\n            });\n        }\n        const collection = db.collection(collectionName);\n        // If ID is provided, delete single document\n        if (id) {\n            // Try to convert to ObjectId, fallback to string if invalid\n            let queryId = id;\n            try {\n                if (mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId.isValid(id)) {\n                    queryId = new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id);\n                }\n            } catch  {\n            // Keep as string if ObjectId conversion fails\n            }\n            const result = await collection.deleteOne({\n                _id: queryId\n            });\n            if (result.deletedCount === 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Document not found\"\n                }, {\n                    status: 404\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                deletedCount: result.deletedCount\n            });\n        }\n        // Check if deleteAll query param is set\n        const deleteAll = request.nextUrl.searchParams.get(\"deleteAll\") === \"true\";\n        if (deleteAll) {\n            // Delete all documents in collection\n            const result = await collection.deleteMany({});\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                deletedCount: result.deletedCount\n            });\n        }\n        // Otherwise, delete based on filter from query params or body\n        const body = await request.json().catch(()=>({}));\n        const filter = body.filter || {};\n        // Also check query params for filter\n        request.nextUrl.searchParams.forEach((value, key)=>{\n            if (key !== \"deleteAll\" && key !== \"secret\") {\n                try {\n                    filter[key] = JSON.parse(value);\n                } catch  {\n                    filter[key] = value;\n                }\n            }\n        });\n        const result = await collection.deleteMany(filter);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            deletedCount: result.deletedCount\n        });\n    } catch (error) {\n        console.error(\"DELETE error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL2NvbGxlY3Rpb25zL1suLi5wYXRoXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDckI7QUFDUztBQUU1Qyw0Q0FBNEM7QUFDckMsZUFBZUcsSUFDcEJDLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBMkM7SUFFbkQsSUFBSTtRQUNGLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUcsTUFBTUQ7UUFDdkIsTUFBTUUsS0FBSyxNQUFNTCx5REFBV0E7UUFFNUIsMEJBQTBCO1FBQzFCLElBQUksQ0FBQ0ksUUFBUUEsS0FBS0UsTUFBTSxLQUFLLEdBQUc7WUFDOUIsTUFBTUMsY0FBYyxNQUFNRixHQUFHRyxlQUFlLEdBQUdDLE9BQU87WUFDdEQsT0FBT1gscURBQVlBLENBQUNZLElBQUksQ0FBQztnQkFDdkJILGFBQWFBLFlBQVlJLEdBQUcsQ0FBQyxDQUFDQyxNQUFTO3dCQUNyQ0MsTUFBTUQsSUFBSUMsSUFBSTt3QkFDZEMsTUFBTUYsSUFBSUUsSUFBSTtvQkFDaEI7WUFDRjtRQUNGO1FBRUEsTUFBTSxDQUFDQyxnQkFBZ0IsR0FBR0MsS0FBSyxHQUFHWjtRQUVsQyxNQUFNYSxhQUFhWixHQUFHWSxVQUFVLENBQUNGO1FBQ2pDLE1BQU1HLEtBQUtGLElBQUksQ0FBQyxFQUFFO1FBRWxCLHlDQUF5QztRQUN6QyxJQUFJRSxJQUFJO1lBQ04sNERBQTREO1lBQzVELElBQUlDLFVBQWVEO1lBQ25CLElBQUk7Z0JBQ0YsSUFBSW5CLDZDQUFRQSxDQUFDcUIsT0FBTyxDQUFDRixLQUFLO29CQUN4QkMsVUFBVSxJQUFJcEIsNkNBQVFBLENBQUNtQjtnQkFDekI7WUFDRixFQUFFLE9BQU07WUFDTiw4Q0FBOEM7WUFDaEQ7WUFFQSxNQUFNRyxXQUFXLE1BQU1KLFdBQVdLLE9BQU8sQ0FBQztnQkFBRUMsS0FBS0o7WUFBUTtZQUN6RCxJQUFJLENBQUNFLFVBQVU7Z0JBQ2IsT0FBT3ZCLHFEQUFZQSxDQUFDWSxJ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QUFFYyxPQUFPQSxNQUFNd0IsT0FBTyxJQUFJO1FBQXdCLEdBQ2xEO1lBQUV2QixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnRmb2xpby8uL2FwcC9hcGkvYWRtaW4vY29sbGVjdGlvbnMvWy4uLnBhdGhdL3JvdXRlLnRzPzVhMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tICdtb25nb2RiJztcclxuaW1wb3J0IHsgZ2V0RGF0YWJhc2UgfSBmcm9tICdAL2xpYi9tb25nb2RiJztcclxuXHJcbi8vIEdFVCAtIExpc3QgY29sbGVjdGlvbnMgb3IgZmV0Y2ggZG9jdW1lbnRzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBwYXRoOiBzdHJpbmdbXSB9PiB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHBhdGggfSA9IGF3YWl0IHBhcmFtcztcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGVtcHR5IHBhdGggYXJyYXlcclxuICAgIGlmICghcGF0aCB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zdCBjb2xsZWN0aW9ucyA9IGF3YWl0IGRiLmxpc3RDb2xsZWN0aW9ucygpLnRvQXJyYXkoKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBjb2xsZWN0aW9uczogY29sbGVjdGlvbnMubWFwKChjb2wpID0+ICh7XHJcbiAgICAgICAgICBuYW1lOiBjb2wubmFtZSxcclxuICAgICAgICAgIHR5cGU6IGNvbC50eXBlLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IFtjb2xsZWN0aW9uTmFtZSwgLi4ucmVzdF0gPSBwYXRoO1xyXG5cclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKTtcclxuICAgIGNvbnN0IGlkID0gcmVzdFswXTtcclxuXHJcbiAgICAvLyBJZiBJRCBpcyBwcm92aWRlZCwgZ2V0IHNpbmdsZSBkb2N1bWVudFxyXG4gICAgaWYgKGlkKSB7XHJcbiAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHRvIE9iamVjdElkLCBmYWxsYmFjayB0byBzdHJpbmcgaWYgaW52YWxpZFxyXG4gICAgICBsZXQgcXVlcnlJZDogYW55ID0gaWQ7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKE9iamVjdElkLmlzVmFsaWQoaWQpKSB7XHJcbiAgICAgICAgICBxdWVyeUlkID0gbmV3IE9iamVjdElkKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgIC8vIEtlZXAgYXMgc3RyaW5nIGlmIE9iamVjdElkIGNvbnZlcnNpb24gZmFpbHNcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmRPbmUoeyBfaWQ6IHF1ZXJ5SWQgfSk7XHJcbiAgICAgIGlmICghZG9jdW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IGVycm9yOiAnRG9jdW1lbnQgbm90IGZvdW5kJyB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZG9jdW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE90aGVyd2lzZSwgZ2V0IGFsbCBkb2N1bWVudHMgd2l0aCBvcHRpb25hbCBxdWVyeSBwYXJhbXNcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwMCcpO1xyXG4gICAgY29uc3Qgc2tpcCA9IHBhcnNlSW50KHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdza2lwJykgfHwgJzAnKTtcclxuICAgIGNvbnN0IHNvcnQgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgnc29ydCcpIHx8ICdfaWQnO1xyXG4gICAgY29uc3Qgb3JkZXIgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgnb3JkZXInKSA9PT0gJ2Rlc2MnID8gLTEgOiAxO1xyXG5cclxuICAgIC8vIEJ1aWxkIGZpbHRlciBmcm9tIHF1ZXJ5IHBhcmFtc1xyXG4gICAgY29uc3QgZmlsdGVyOiBhbnkgPSB7fTtcclxuICAgIHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICBpZiAoIVsnbGltaXQnLCAnc2tpcCcsICdzb3J0JywgJ29yZGVyJywgJ3NlY3JldCddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIGFzIEpTT04gZm9yIGNvbXBsZXggcXVlcmllc1xyXG4gICAgICAgICAgZmlsdGVyW2tleV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIC8vIElmIG5vdCBKU09OLCB1c2UgYXMgc3RyaW5nXHJcbiAgICAgICAgICBmaWx0ZXJba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgY29sbGVjdGlvblxyXG4gICAgICAuZmluZChmaWx0ZXIpXHJcbiAgICAgIC5zb3J0KHsgW3NvcnRdOiBvcmRlciB9KVxyXG4gICAgICAuc2tpcChza2lwKVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC50b0FycmF5KCk7XHJcblxyXG4gICAgY29uc3QgY291bnQgPSBhd2FpdCBjb2xsZWN0aW9uLmNvdW50RG9jdW1lbnRzKGZpbHRlcik7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgZGF0YTogZG9jdW1lbnRzLFxyXG4gICAgICBjb3VudCxcclxuICAgICAgbGltaXQsXHJcbiAgICAgIHNraXAsXHJcbiAgICAgIHRvdGFsOiBjb3VudCxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0dFVCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUE9TVCAtIENyZWF0ZSBuZXcgZG9jdW1lbnQocylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBwYXRoOiBzdHJpbmdbXSB9PiB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHBhdGggfSA9IGF3YWl0IHBhcmFtcztcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKTtcclxuICAgIGNvbnN0IFtjb2xsZWN0aW9uTmFtZV0gPSBwYXRoO1xyXG5cclxuICAgIGlmICghY29sbGVjdGlvbk5hbWUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdDb2xsZWN0aW9uIG5hbWUgaXMgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpO1xyXG5cclxuICAgIC8vIFN1cHBvcnQgYm90aCBzaW5nbGUgZG9jdW1lbnQgYW5kIGFycmF5IG9mIGRvY3VtZW50c1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYm9keSkpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRNYW55KGJvZHkpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgaW5zZXJ0ZWRJZHM6IHJlc3VsdC5pbnNlcnRlZElkcyxcclxuICAgICAgICBjb3VudDogcmVzdWx0Lmluc2VydGVkQ291bnQsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRPbmUoYm9keSk7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBfaWQ6IHJlc3VsdC5pbnNlcnRlZElkLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdQT1NUIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBQVVQgLSBVcGRhdGUgZG9jdW1lbnQocylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IHBhdGg6IHN0cmluZ1tdIH0+IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcGF0aCB9ID0gYXdhaXQgcGFyYW1zO1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYXRhYmFzZSgpO1xyXG4gICAgY29uc3QgW2NvbGxlY3Rpb25OYW1lLCBpZF0gPSBwYXRoO1xyXG5cclxuICAgIGlmICghY29sbGVjdGlvbk5hbWUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdDb2xsZWN0aW9uIG5hbWUgaXMgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpO1xyXG5cclxuICAgIC8vIElmIElEIGlzIHByb3ZpZGVkLCB1cGRhdGUgc2luZ2xlIGRvY3VtZW50XHJcbiAgICBpZiAoaWQpIHtcclxuICAgICAgY29uc3QgeyBfaWQsIC4uLnVwZGF0ZURhdGEgfSA9IGJvZHk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcnkgdG8gY29udmVydCB0byBPYmplY3RJZCwgZmFsbGJhY2sgdG8gc3RyaW5nIGlmIGludmFsaWRcclxuICAgICAgbGV0IHF1ZXJ5SWQ6IGFueSA9IGlkO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChPYmplY3RJZC5pc1ZhbGlkKGlkKSkge1xyXG4gICAgICAgICAgcXVlcnlJZCA9IG5ldyBPYmplY3RJZChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIHtcclxuICAgICAgICAvLyBLZWVwIGFzIHN0cmluZyBpZiBPYmplY3RJZCBjb252ZXJzaW9uIGZhaWxzXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24udXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiBxdWVyeUlkIH0sXHJcbiAgICAgICAgeyAkc2V0OiB1cGRhdGVEYXRhIH0sXHJcbiAgICAgICAgeyB1cHNlcnQ6IGZhbHNlIH1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQubWF0Y2hlZENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBlcnJvcjogJ0RvY3VtZW50IG5vdCBmb3VuZCcgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtYXRjaGVkQ291bnQ6IHJlc3VsdC5tYXRjaGVkQ291bnQsXHJcbiAgICAgICAgbW9kaWZpZWRDb3VudDogcmVzdWx0Lm1vZGlmaWVkQ291bnQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE90aGVyd2lzZSwgdXBkYXRlIG11bHRpcGxlIGRvY3VtZW50cyBiYXNlZCBvbiBmaWx0ZXJcclxuICAgIGNvbnN0IGZpbHRlciA9IGJvZHkuZmlsdGVyIHx8IHt9O1xyXG4gICAgY29uc3QgdXBkYXRlID0gYm9keS51cGRhdGUgfHwgYm9keTtcclxuICAgIGNvbnN0IHsgZmlsdGVyOiBfLCAuLi51cGRhdGVEYXRhIH0gPSB1cGRhdGU7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi51cGRhdGVNYW55KFxyXG4gICAgICBmaWx0ZXIsXHJcbiAgICAgIHsgJHNldDogdXBkYXRlRGF0YSB9XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1hdGNoZWRDb3VudDogcmVzdWx0Lm1hdGNoZWRDb3VudCxcclxuICAgICAgbW9kaWZpZWRDb3VudDogcmVzdWx0Lm1vZGlmaWVkQ291bnQsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdQVVQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFBBVENIIC0gUGFydGlhbCB1cGRhdGUgKHVwc2VydCBzdXBwb3J0KVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0goXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBwYXRoOiBzdHJpbmdbXSB9PiB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHBhdGggfSA9IGF3YWl0IHBhcmFtcztcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKTtcclxuICAgIGNvbnN0IFtjb2xsZWN0aW9uTmFtZSwgaWRdID0gcGF0aDtcclxuXHJcbiAgICBpZiAoIWNvbGxlY3Rpb25OYW1lKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQ29sbGVjdGlvbiBuYW1lIGlzIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKTtcclxuICAgIGNvbnN0IHVwc2VydCA9IGJvZHkudXBzZXJ0ICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0byB0cnVlXHJcblxyXG4gICAgaWYgKGlkKSB7XHJcbiAgICAgIGNvbnN0IHsgX2lkLCB1cHNlcnQ6IF8sIC4uLnVwZGF0ZURhdGEgfSA9IGJvZHk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcnkgdG8gY29udmVydCB0byBPYmplY3RJZCwgZmFsbGJhY2sgdG8gc3RyaW5nIGlmIGludmFsaWRcclxuICAgICAgbGV0IHF1ZXJ5SWQ6IGFueSA9IGlkO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChPYmplY3RJZC5pc1ZhbGlkKGlkKSkge1xyXG4gICAgICAgICAgcXVlcnlJZCA9IG5ldyBPYmplY3RJZChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIHtcclxuICAgICAgICAvLyBLZWVwIGFzIHN0cmluZyBpZiBPYmplY3RJZCBjb252ZXJzaW9uIGZhaWxzXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24udXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiBxdWVyeUlkIH0sXHJcbiAgICAgICAgeyAkc2V0OiB1cGRhdGVEYXRhIH0sXHJcbiAgICAgICAgeyB1cHNlcnQgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1hdGNoZWRDb3VudDogcmVzdWx0Lm1hdGNoZWRDb3VudCxcclxuICAgICAgICBtb2RpZmllZENvdW50OiByZXN1bHQubW9kaWZpZWRDb3VudCxcclxuICAgICAgICB1cHNlcnRlZElkOiByZXN1bHQudXBzZXJ0ZWRJZCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlsdGVyID0gYm9keS5maWx0ZXIgfHwge307XHJcbiAgICBjb25zdCB7IGZpbHRlcjogXywgdXBzZXJ0OiBfXywgLi4udXBkYXRlRGF0YSB9ID0gYm9keTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU1hbnkoXHJcbiAgICAgIGZpbHRlcixcclxuICAgICAgeyAkc2V0OiB1cGRhdGVEYXRhIH0sXHJcbiAgICAgIHsgdXBzZXJ0IH1cclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWF0Y2hlZENvdW50OiByZXN1bHQubWF0Y2hlZENvdW50LFxyXG4gICAgICBtb2RpZmllZENvdW50OiByZXN1bHQubW9kaWZpZWRDb3VudCxcclxuICAgICAgdXBzZXJ0ZWRDb3VudDogcmVzdWx0LnVwc2VydGVkQ291bnQsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdQQVRDSCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gREVMRVRFIC0gRGVsZXRlIGRvY3VtZW50KHMpXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBwYXRoOiBzdHJpbmdbXSB9PiB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHBhdGggfSA9IGF3YWl0IHBhcmFtcztcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKTtcclxuICAgIGNvbnN0IFtjb2xsZWN0aW9uTmFtZSwgaWRdID0gcGF0aDtcclxuXHJcbiAgICBpZiAoIWNvbGxlY3Rpb25OYW1lKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQ29sbGVjdGlvbiBuYW1lIGlzIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKTtcclxuXHJcbiAgICAvLyBJZiBJRCBpcyBwcm92aWRlZCwgZGVsZXRlIHNpbmdsZSBkb2N1bWVudFxyXG4gICAgaWYgKGlkKSB7XHJcbiAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHRvIE9iamVjdElkLCBmYWxsYmFjayB0byBzdHJpbmcgaWYgaW52YWxpZFxyXG4gICAgICBsZXQgcXVlcnlJZDogYW55ID0gaWQ7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKE9iamVjdElkLmlzVmFsaWQoaWQpKSB7XHJcbiAgICAgICAgICBxdWVyeUlkID0gbmV3IE9iamVjdElkKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgIC8vIEtlZXAgYXMgc3RyaW5nIGlmIE9iamVjdElkIGNvbnZlcnNpb24gZmFpbHNcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5kZWxldGVPbmUoeyBfaWQ6IHF1ZXJ5SWQgfSk7XHJcbiAgICAgIGlmIChyZXN1bHQuZGVsZXRlZENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBlcnJvcjogJ0RvY3VtZW50IG5vdCBmb3VuZCcgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRlbGV0ZWRDb3VudDogcmVzdWx0LmRlbGV0ZWRDb3VudCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgZGVsZXRlQWxsIHF1ZXJ5IHBhcmFtIGlzIHNldFxyXG4gICAgY29uc3QgZGVsZXRlQWxsID0gcmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2RlbGV0ZUFsbCcpID09PSAndHJ1ZSc7XHJcbiAgICBcclxuICAgIGlmIChkZWxldGVBbGwpIHtcclxuICAgICAgLy8gRGVsZXRlIGFsbCBkb2N1bWVudHMgaW4gY29sbGVjdGlvblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmRlbGV0ZU1hbnkoe30pO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGVsZXRlZENvdW50OiByZXN1bHQuZGVsZXRlZENvdW50LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPdGhlcndpc2UsIGRlbGV0ZSBiYXNlZCBvbiBmaWx0ZXIgZnJvbSBxdWVyeSBwYXJhbXMgb3IgYm9keVxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgY29uc3QgZmlsdGVyID0gYm9keS5maWx0ZXIgfHwge307XHJcblxyXG4gICAgLy8gQWxzbyBjaGVjayBxdWVyeSBwYXJhbXMgZm9yIGZpbHRlclxyXG4gICAgcmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgIT09ICdkZWxldGVBbGwnICYmIGtleSAhPT0gJ3NlY3JldCcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZmlsdGVyW2tleV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIGZpbHRlcltrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmRlbGV0ZU1hbnkoZmlsdGVyKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRlbGV0ZWRDb3VudDogcmVzdWx0LmRlbGV0ZWRDb3VudCxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RFTEVURSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIk9iamVjdElkIiwiZ2V0RGF0YWJhc2UiLCJHRVQiLCJyZXF1ZXN0IiwicGFyYW1zIiwicGF0aCIsImRiIiwibGVuZ3RoIiwiY29sbGVjdGlvbnMiLCJsaXN0Q29sbGVjdGlvbnMiLCJ0b0FycmF5IiwianNvbiIsIm1hcCIsImNvbCIsIm5hbWUiLCJ0eXBlIiwiY29sbGVjdGlvbk5hbWUiLCJyZXN0IiwiY29sbGVjdGlvbiIsImlkIiwicXVlcnlJZCIsImlzVmFsaWQiLCJkb2N1bWVudCIsImZpbmRPbmUiLCJfaWQiLCJlcnJvciIsInN0YXR1cyIsImxpbWl0IiwicGFyc2VJbnQiLCJuZXh0VXJsIiwic2VhcmNoUGFyYW1zIiwiZ2V0Iiwic2tpcCIsInNvcnQiLCJvcmRlciIsImZpbHRlciIsImZvckVhY2giLCJ2YWx1ZSIsImtleSIsImluY2x1ZGVzIiwiSlNPTiIsInBhcnNlIiwiZG9jdW1lbnRzIiwiZmluZCIsImNvdW50IiwiY291bnREb2N1bWVudHMiLCJkYXRhIiwidG90YWwiLCJjb25zb2xlIiwibWVzc2FnZSIsIlBPU1QiLCJib2R5IiwiQXJyYXkiLCJpc0FycmF5IiwicmVzdWx0IiwiaW5zZXJ0TWFueSIsInN1Y2Nlc3MiLCJpbnNlcnRlZElkcyIsImluc2VydGVkQ291bnQiLCJpbnNlcnRPbmUiLCJpbnNlcnRlZElkIiwiUFVUIiwidXBkYXRlRGF0YSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJ1cHNlcnQiLCJtYXRjaGVkQ291bnQiLCJtb2RpZmllZENvdW50IiwidXBkYXRlIiwiXyIsInVwZGF0ZU1hbnkiLCJQQVRDSCIsInVwc2VydGVkSWQiLCJfXyIsInVwc2VydGVkQ291bnQiLCJERUxFVEUiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJkZWxldGVBbGwiLCJkZWxldGVNYW55IiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/collections/[...path]/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.ts":
/*!************************!*\
  !*** ./lib/mongodb.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nlet client = null;\nlet clientPromise;\nfunction buildMongoUri() {\n    const database = process.env.MONGODB_DATABASE || \"AryamannLifeVars\";\n    let uri = process.env.MONGODB_URI ?? (process.env.MONGODB_USERNAME && process.env.MONGODB_PASSWORD ? `mongodb+srv://${encodeURIComponent(process.env.MONGODB_USERNAME)}:${encodeURIComponent(process.env.MONGODB_PASSWORD)}@${process.env.MONGODB_HOST || \"jstraining.buufn0n.mongodb.net\"}/${database}?retryWrites=true&w=majority&appName=JSTraining` : undefined);\n    if (!uri) {\n        // Return a default URI if nothing is set (for development)\n        console.warn(\"MongoDB connection details are missing. Using default connection.\");\n        uri = `mongodb+srv://aryamatomar:iSo9H2oZrdn6WlVV@jstraining.buufn0n.mongodb.net/${database}?retryWrites=true&w=majority&appName=JSTraining`;\n    }\n    // Ensure database name is set even if MONGODB_URI is provided\n    if (process.env.MONGODB_URI) {\n        const uriMatch = uri.match(/^(mongodb\\+srv:\\/\\/[^/]+)\\/([^?]*)(\\?.*)?$/);\n        if (uriMatch) {\n            uri = `${uriMatch[1]}/${database}${uriMatch[3] || \"\"}`;\n        } else {\n            const queryMatch = uri.match(/\\?/);\n            if (queryMatch) {\n                uri = uri.replace(/\\?/, `/${database}?`);\n            } else {\n                uri = `${uri}/${database}`;\n            }\n        }\n    }\n    return uri;\n}\ntry {\n    if (true) {\n        // In development mode, use a global variable so that the value\n        // is preserved across module reloads caused by HMR (Hot Module Replacement).\n        const globalWithMongo = global;\n        if (!globalWithMongo._mongoClientPromise) {\n            client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(buildMongoUri());\n            globalWithMongo._mongoClientPromise = client.connect().catch((err)=>{\n                console.error(\"MongoDB connection error:\", err);\n                throw err;\n            });\n        }\n        clientPromise = globalWithMongo._mongoClientPromise;\n    } else {}\n} catch (error) {\n    console.error(\"Failed to initialize MongoDB client:\", error);\n    // Create a rejected promise so errors are handled properly\n    clientPromise = Promise.reject(error);\n}\nasync function getDatabase() {\n    const client = await clientPromise;\n    const database = process.env.MONGODB_DATABASE || \"AryamannLifeVars\";\n    return client.db(database);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDO0FBRTFDLElBQUlDLFNBQTZCO0FBQ2pDLElBQUlDO0FBRUosU0FBU0M7SUFDUCxNQUFNQyxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixJQUFJO0lBQ2pELElBQUlDLE1BQ0ZILFFBQVFDLEdBQUcsQ0FBQ0csV0FBVyxJQUN0QkosQ0FBQUEsUUFBUUMsR0FBRyxDQUFDSSxnQkFBZ0IsSUFBSUwsUUFBUUMsR0FBRyxDQUFDSyxnQkFBZ0IsR0FDekQsQ0FBQyxjQUFjLEVBQUVDLG1CQUNmUCxRQUFRQyxHQUFHLENBQUNJLGdCQUFnQixFQUM1QixDQUFDLEVBQUVFLG1CQUNIUCxRQUFRQyxHQUFHLENBQUNLLGdCQUFnQixFQUM1QixDQUFDLEVBQUVOLFFBQVFDLEdBQUcsQ0FBQ08sWUFBWSxJQUFJLGlDQUFpQyxDQUFDLEVBQUVULFNBQVMsK0NBQStDLENBQUMsR0FDOUhVLFNBQVE7SUFFZCxJQUFJLENBQUNOLEtBQUs7UUFDUiwyREFBMkQ7UUFDM0RPLFFBQVFDLElBQUksQ0FBQztRQUNiUixNQUFNLENBQUMsMEVBQTBFLEVBQUVKLFNBQVMsK0NBQStDLENBQUM7SUFDOUk7SUFFQSw4REFBOEQ7SUFDOUQsSUFBSUMsUUFBUUMsR0FBRyxDQUFDRyxXQUFXLEVBQUU7UUFDM0IsTUFBTVEsV0FBV1QsSUFBSVUsS0FBSyxDQUFDO1FBQzNCLElBQUlELFVBQVU7WUFDWlQsTUFBTSxDQUFDLEVBQUVTLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFYixTQUFTLEVBQUVhLFFBQVEsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDO1FBQ3hELE9BQU87WUFDTCxNQUFNRSxhQUFhWCxJQUFJVSxLQUFLLENBQUM7WUFDN0IsSUFBSUMsWUFBWTtnQkFDZFgsTUFBTUEsSUFBSVksT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUVoQixTQUFTLENBQUMsQ0FBQztZQUN6QyxPQUFPO2dCQUNMSSxNQUFNLENBQUMsRUFBRUEsSUFBSSxDQUFDLEVBQUVKLFNBQVMsQ0FBQztZQUM1QjtRQUNGO0lBQ0Y7SUFFQSxPQUFPSTtBQUNUO0FBRUEsSUFBSTtJQUNGLElBQUlILElBQXlCLEVBQWU7UUFDMUMsK0RBQStEO1FBQy9ELDZFQUE2RTtRQUM3RSxNQUFNZ0Isa0JBQWtCQztRQUl4QixJQUFJLENBQUNELGdCQUFnQkUsbUJBQW1CLEVBQUU7WUFDeEN0QixTQUFTLElBQUlELGdEQUFXQSxDQUFDRztZQUN6QmtCLGdCQUFnQkUsbUJBQW1CLEdBQUd0QixPQUFPdUIsT0FBTyxHQUFHQyxLQUFLLENBQUMsQ0FBQ0M7Z0JBQzVEWCxRQUFRWSxLQUFLLENBQUMsNkJBQTZCRDtnQkFDM0MsTUFBTUE7WUFDUjtRQUNGO1FBQ0F4QixnQkFBZ0JtQixnQkFBZ0JFLG1CQUFtQjtJQUNyRCxPQUFPLEVBT047QUFDSCxFQUFFLE9BQU9JLE9BQU87SUFDZFosUUFBUVksS0FBSyxDQUFDLHdDQUF3Q0E7SUFDdEQsMkRBQTJEO0lBQzNEekIsZ0JBQWdCMEIsUUFBUUMsTUFBTSxDQUFDRjtBQUNqQztBQUVPLGVBQWVHO0lBQ3BCLE1BQU03QixTQUFTLE1BQU1DO0lBQ3JCLE1BQU1FLFdBQVdDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCLElBQUk7SUFDakQsT0FBT04sT0FBTzhCLEVBQUUsQ0FBQzNCO0FBQ25CO0FBRUEsaUVBQWVGLGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8vLi9saWIvbW9uZ29kYi50cz8wNWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50LCBEYiB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxubGV0IGNsaWVudDogTW9uZ29DbGllbnQgfCBudWxsID0gbnVsbDtcclxubGV0IGNsaWVudFByb21pc2U6IFByb21pc2U8TW9uZ29DbGllbnQ+O1xyXG5cclxuZnVuY3Rpb24gYnVpbGRNb25nb1VyaSgpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGRhdGFiYXNlID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9EQVRBQkFTRSB8fCAnQXJ5YW1hbm5MaWZlVmFycyc7XHJcbiAgbGV0IHVyaSA9XHJcbiAgICBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSA/P1xyXG4gICAgKHByb2Nlc3MuZW52Lk1PTkdPREJfVVNFUk5BTUUgJiYgcHJvY2Vzcy5lbnYuTU9OR09EQl9QQVNTV09SRFxyXG4gICAgICA/IGBtb25nb2RiK3NydjovLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTU9OR09EQl9VU0VSTkFNRSxcclxuICAgICAgICApfToke2VuY29kZVVSSUNvbXBvbmVudChcclxuICAgICAgICAgIHByb2Nlc3MuZW52Lk1PTkdPREJfUEFTU1dPUkQsXHJcbiAgICAgICAgKX1AJHtwcm9jZXNzLmVudi5NT05HT0RCX0hPU1QgfHwgJ2pzdHJhaW5pbmcuYnV1Zm4wbi5tb25nb2RiLm5ldCd9LyR7ZGF0YWJhc2V9P3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eSZhcHBOYW1lPUpTVHJhaW5pbmdgXHJcbiAgICAgIDogdW5kZWZpbmVkKTtcclxuXHJcbiAgaWYgKCF1cmkpIHtcclxuICAgIC8vIFJldHVybiBhIGRlZmF1bHQgVVJJIGlmIG5vdGhpbmcgaXMgc2V0IChmb3IgZGV2ZWxvcG1lbnQpXHJcbiAgICBjb25zb2xlLndhcm4oJ01vbmdvREIgY29ubmVjdGlvbiBkZXRhaWxzIGFyZSBtaXNzaW5nLiBVc2luZyBkZWZhdWx0IGNvbm5lY3Rpb24uJyk7XHJcbiAgICB1cmkgPSBgbW9uZ29kYitzcnY6Ly9hcnlhbWF0b21hcjppU285SDJvWnJkbjZXbFZWQGpzdHJhaW5pbmcuYnV1Zm4wbi5tb25nb2RiLm5ldC8ke2RhdGFiYXNlfT9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHkmYXBwTmFtZT1KU1RyYWluaW5nYDtcclxuICB9XHJcblxyXG4gIC8vIEVuc3VyZSBkYXRhYmFzZSBuYW1lIGlzIHNldCBldmVuIGlmIE1PTkdPREJfVVJJIGlzIHByb3ZpZGVkXHJcbiAgaWYgKHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XHJcbiAgICBjb25zdCB1cmlNYXRjaCA9IHVyaS5tYXRjaCgvXihtb25nb2RiXFwrc3J2OlxcL1xcL1teL10rKVxcLyhbXj9dKikoXFw/LiopPyQvKTtcclxuICAgIGlmICh1cmlNYXRjaCkge1xyXG4gICAgICB1cmkgPSBgJHt1cmlNYXRjaFsxXX0vJHtkYXRhYmFzZX0ke3VyaU1hdGNoWzNdIHx8ICcnfWA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBxdWVyeU1hdGNoID0gdXJpLm1hdGNoKC9cXD8vKTtcclxuICAgICAgaWYgKHF1ZXJ5TWF0Y2gpIHtcclxuICAgICAgICB1cmkgPSB1cmkucmVwbGFjZSgvXFw/LywgYC8ke2RhdGFiYXNlfT9gKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1cmkgPSBgJHt1cml9LyR7ZGF0YWJhc2V9YDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHVyaTtcclxufVxyXG5cclxudHJ5IHtcclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIC8vIEluIGRldmVsb3BtZW50IG1vZGUsIHVzZSBhIGdsb2JhbCB2YXJpYWJsZSBzbyB0aGF0IHRoZSB2YWx1ZVxyXG4gICAgLy8gaXMgcHJlc2VydmVkIGFjcm9zcyBtb2R1bGUgcmVsb2FkcyBjYXVzZWQgYnkgSE1SIChIb3QgTW9kdWxlIFJlcGxhY2VtZW50KS5cclxuICAgIGNvbnN0IGdsb2JhbFdpdGhNb25nbyA9IGdsb2JhbCBhcyB0eXBlb2YgZ2xvYmFsVGhpcyAmIHtcclxuICAgICAgX21vbmdvQ2xpZW50UHJvbWlzZT86IFByb21pc2U8TW9uZ29DbGllbnQ+O1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlKSB7XHJcbiAgICAgIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudChidWlsZE1vbmdvVXJpKCkpO1xyXG4gICAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCBlcnIpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbGllbnRQcm9taXNlID0gZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2U7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXHJcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoYnVpbGRNb25nb1VyaSgpKTtcclxuICAgIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignTW9uZ29EQiBjb25uZWN0aW9uIGVycm9yOicsIGVycik7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH0pO1xyXG4gIH1cclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBNb25nb0RCIGNsaWVudDonLCBlcnJvcik7XHJcbiAgLy8gQ3JlYXRlIGEgcmVqZWN0ZWQgcHJvbWlzZSBzbyBlcnJvcnMgYXJlIGhhbmRsZWQgcHJvcGVybHlcclxuICBjbGllbnRQcm9taXNlID0gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YWJhc2UoKTogUHJvbWlzZTxEYj4ge1xyXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2U7XHJcbiAgY29uc3QgZGF0YWJhc2UgPSBwcm9jZXNzLmVudi5NT05HT0RCX0RBVEFCQVNFIHx8ICdBcnlhbWFubkxpZmVWYXJzJztcclxuICByZXR1cm4gY2xpZW50LmRiKGRhdGFiYXNlKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xpZW50UHJvbWlzZTtcclxuXHJcbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJidWlsZE1vbmdvVXJpIiwiZGF0YWJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9EQVRBQkFTRSIsInVyaSIsIk1PTkdPREJfVVJJIiwiTU9OR09EQl9VU0VSTkFNRSIsIk1PTkdPREJfUEFTU1dPUkQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJNT05HT0RCX0hPU1QiLCJ1bmRlZmluZWQiLCJjb25zb2xlIiwid2FybiIsInVyaU1hdGNoIiwibWF0Y2giLCJxdWVyeU1hdGNoIiwicmVwbGFjZSIsImdsb2JhbFdpdGhNb25nbyIsImdsb2JhbCIsIl9tb25nb0NsaWVudFByb21pc2UiLCJjb25uZWN0IiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsIlByb21pc2UiLCJyZWplY3QiLCJnZXREYXRhYmFzZSIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&page=%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fcollections%2F%5B...path%5D%2Froute.ts&appDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAryam%5CDesktop%5CGeneralPurpose%5Cportfolio&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();